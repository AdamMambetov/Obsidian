---
created: 2025-04-05T14:29:19+03:00
modified: 2025-04-23T05:17:22+03:00
aliases:
  - Является ли число степенью 2
  - Является ли число кратно 2
category:
  - "[[Программирование]]"
  - "[[Наука]]"
meta:
  - "[[C++]]"
  - "[[Математика]]"
---

# Является ли число степенью 2

```cpp
// c++
bool is_power_two(int n)
{
	return n && (!(n & (n-1)));
}
```


## Объяснение

1. **`n &&`** — проверяет, что `n` не равно нулю (иначе `n & (n-1)` тоже даст `0`, и функция вернёт `true`, что неверно для `n = 0`).
2. **`!(n & (n - 1))`** — основная магия.
	- **Если `n` — степень двойки**, то в двоичном представлении оно выглядит как `1` с нулями:
	  - `1` → `0001`
	  - `2` → `0010`
	  - `4` → `0100`
	  - `8` → `1000`
	- **Если вычесть `1`**, получим число, где все биты после единицы инвертируются:
	  - `1 - 1 = 0` → `0000`
	  - `2 - 1 = 1` → `0001`
	  - `4 - 1 = 3` → `0011`
	  - `8 - 1 = 7` → `0111`
	- **Побитовое И (`&`)** между `n` и `n - 1` даст `0` **только если `n` — степень двойки**:
	  - `8 & 7` → `1000 & 0111 = 0000` → `0`
	  - `7 & 6` → `0111 & 0110 = 0110` → `6` (не ноль)
