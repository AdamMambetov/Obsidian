---
created: 2025-03-23T15:37:02+03:00
modified: 2025-04-11T22:19:09+03:00
category:
  - "[[Программирование]]"
creator:
  - "[[@Адам Мамбетов|Я]]"
meta:
  - "[[Unreal Engine]]"
  - "[[C++]]"
---

# Modding Game

## Описание

[[@Адам Мамбетов|Мой]] проект по созданию системы моддинга проекта на [[Unreal Engine]]. [[@Адам Мамбетов|Я]] сделал [[PakLoader]] класс, который подгружает _.pak_ файлы с ресурсами мода. Проверено на блюпринтах, картах и статик мешах. В планах внедрить Lua скриптинг с помощью плагина «LuaMachine».

## Задачи

 - [x] Создание и чтение pak файлов
 - [ ] Подгрузка всех модов в папке Mods
 - [ ] Вынести весь код в отдельный плагин


## Правила создания мода

### Как создать pak файл

 - Создайте проект с тем же названием и на той же версии, что и игра.
 - В Project Settings
	 - Use Pak File - включить
	 - Use Io Store - выключить (если есть)
	 - Generate Chunks - включить
	 - Share Material Shader Code - выключить (для работы StaticMesh)
 - В корневой директории создайте папки «Mods/НазваниеМода/Content»
	 - Все файлы мода должны быть только тут
 - В папке «Mods/НазваниеМода/Content» создайте _DataAsset_ с типом _PrimaryAssetLabel_ и назовите его `Label_НазваниеМода`. В нём
	 - Chunk ID >= 10 (потому что 0 - сама игра, а дальше будут официальные dlc)
		 - Хотя насчёт этого я не уверен. Проверял создавать несколько плагинов с одинаковыми ID и они не заменяли друг друга
	 - Apply Recursively - включить
	 - Cook Rule = Always Cook
	 - Label Assets in My Directory - включить
	 - Остальное оставьте по умолчанию
 - Запакуйте проект (Shipping) В билде по пути «Content/Paks» будут лежать pak файл проекта и ваш pak файл с названием указанного Chunk ID. Его можно назвать как угодно.

