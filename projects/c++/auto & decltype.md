---
created: 2025-04-05T14:29:22+03:00
modified: 2025-04-11T23:16:51+03:00
tags:
  - üì•
category:
  - "[[–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ]]"
meta:
  - "[[C++]]"
---

# ‚û°Ô∏è auto & decltype

- auto-—Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—ã–≤–æ–¥—è—Ç—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ –∏—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞.
- –ß—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ –ø–æ–ª–µ–∑–Ω–æ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º–æ—Å—Ç–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤:

```cpp
// std::vector<int>::const_iterator cit = v.cbegin();
auto cit = v.cbegin(); // –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞

// std::shared_ptr<vector<uint32_t>> demo_ptr(new vector<uint32_t>(0);
auto demo_ptr = make_shared<vector<uint32_t>>(0); // –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
```

 - –§—É–Ω–∫—Ü–∏–∏ —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –≤—ã–≤–æ–¥–∏—Ç—å —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é auto. –í C++11 —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –ª–∏–±–æ —è–≤–Ω–æ, –ª–∏–±–æ —Å –ø–æ–º–æ—â—å—é decltype, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```cpp
template <typename X, typename Y>
auto add(X x, Y y) -> decltype(x + y)
{
    return x + y;
}
add(1, 2);     // == 3
add(1, 2.0);   // == 3.0
add(1.5, 1.5); // == 3.0
```

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω–∞—è –≤—ã—à–µ —Ñ–æ—Ä–º–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ç–∏–ø–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è trailing return type, —Ç.–µ. -> `return-type`.